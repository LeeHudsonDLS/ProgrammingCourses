#! Generated by VisualDCT v2.6
#! DBDSTART
#! DBD("/home/jjc62351/course/ioc/dbd/exercise.dbd")
#! DBDEND


record(ai, "$(user):tempIn") {
  field(SCAN, ".2 second")
  field(DTYP, "asynInt32")
  field(INP, "@asyn(ERIO.1)AIStandardChannel1.Value")
  field(EGUF, "100")
  field(EGUL, "0")
  field(EGU, "degrees")
  field(LINR, "LINEAR")
  field(HHSV, "MAJOR")
  field(FLNK, "$(user):alarmFowardLink")
  field(SIOL, "$(user):tempSim PP")
  field(SIML, "$(user):simulationMode PP")
}

record(ao, "$(user):templim") {
  field(FLNK, "$(user):tempIn")
  field(OUT, "$(user):tempIn.HIHI")
}

record(bo, "$(user):alarmout") {
  field(OMSL, "closed_loop")
  field(DOL, "$(user):alarmcalc")
  field(ZNAM, "Set")
  field(ONAM, "Cleared")
  field(DTYP, "asynInt32")
  field(OUT, "@asyn(ERIO.4)Channel1.Output")
}

record(bo, "$(user):powerDown") {
  field(DTYP, "asynInt32")
  field(OUT, "@asyn(ERIO.4)Channel2.Output")
  field(ZNAM, "Power On")
  field(ONAM, "Power Off")
  field(OMSL, "closed_loop")
  field(DOL, "$(user):powerDownCalc")
}

record(fanout, "$(user):alarmFowardLink") {
  field(LNK1, "$(user):powerDownCalc")
  field(LNK2, "$(user):alarmcalc")
}

record(ao, "$(user):tempSim") {
  field(SCAN, "Passive")
}

record(bo, "$(user):simulationMode") {
  field(ZNAM, "Hardware")
  field(ONAM, "Simulated")
  field(SCAN, "Passive")
}

record(calcout, "$(user):alarmcalc") {
  field(FLNK, "$(user):alarmout")
  field(CALC, "A <1")
  field(INPA, "$(user):tempIn.STAT")
  field(OOPT, "Transition To Non-zero")
}

record(calcout, "$(user):powerDownCalc") {
  field(FLNK, "$(user):powerDown")
  field(CALC, "A>=1")
  field(INPA, "$(user):tempIn.STAT")
  field(OOPT, "Transition To Zero")
}

#! Further lines contain data used by VisualDCT
#! View(1592,2240,1.0)
#! Record("$(user):tempIn",2340,2091,0,0,"$(user):tempIn")
#! Field("$(user):tempIn.HIHI",16777215,0,"$(user):tempIn.HIHI")
#! Field("$(user):tempIn.FLNK",16777215,0,"$(user):tempIn.FLNK")
#! Link("$(user):tempIn.FLNK","$(user):alarmFowardLink")
#! Field("$(user):tempIn.STAT",16777215,0,"$(user):tempIn.STAT")
#! Field("$(user):tempIn.SIOL",16777215,1,"$(user):tempIn.SIOL")
#! Link("$(user):tempIn.SIOL","$(user):tempSim.VAL")
#! Field("$(user):tempIn.SIML",16777215,1,"$(user):tempIn.SIML")
#! Link("$(user):tempIn.SIML","$(user):simulationMode.VAL")
#! Record("$(user):templim",1960,2216,0,1,"$(user):templim")
#! Field("$(user):templim.OUT",16777215,1,"$(user):templim.OUT")
#! Link("$(user):templim.OUT","$(user):tempIn.HIHI")
#! Field("$(user):templim.FLNK",16777215,1,"$(user):templim.FLNK")
#! Link("$(user):templim.FLNK","$(user):tempIn")
#! Record("$(user):alarmout",2380,2520,0,0,"$(user):alarmout")
#! Field("$(user):alarmout.DOL",16777215,0,"$(user):alarmout.DOL")
#! Link("$(user):alarmout.DOL","$(user):alarmcalc.VAL")
#! Record("$(user):powerDown",2380,2720,0,0,"$(user):powerDown")
#! Field("$(user):powerDown.DOL",16777215,0,"$(user):powerDown.DOL")
#! Link("$(user):powerDown.DOL","$(user):powerDownCalc.VAL")
#! Record("$(user):alarmFowardLink",2020,2376,0,1,"$(user):alarmFowardLink")
#! Field("$(user):alarmFowardLink.LNK1",16777215,0,"$(user):alarmFowardLink.LNK1")
#! Link("$(user):alarmFowardLink.LNK1","$(user):powerDownCalc")
#! Field("$(user):alarmFowardLink.LNK2",16777215,0,"$(user):alarmFowardLink.LNK2")
#! Link("$(user):alarmFowardLink.LNK2","$(user):alarmcalc")
#! Record("$(user):tempSim",2460,1910,0,1,"$(user):tempSim")
#! Field("$(user):tempSim.VAL",16777215,1,"$(user):tempSim.VAL")
#! Record("$(user):simulationMode",2760,2002,0,1,"$(user):simulationMode")
#! Field("$(user):simulationMode.VAL",16777215,0,"$(user):simulationMode.VAL")
#! Record("$(user):alarmcalc",1980,2548,0,0,"$(user):alarmcalc")
#! Field("$(user):alarmcalc.INPA",16777215,1,"$(user):alarmcalc.INPA")
#! Link("$(user):alarmcalc.INPA","$(user):tempIn.STAT")
#! Field("$(user):alarmcalc.VAL",16777215,1,"$(user):alarmcalc.VAL")
#! Field("$(user):alarmcalc.FLNK",16777215,1,"$(user):alarmcalc.FLNK")
#! Link("$(user):alarmcalc.FLNK","$(user):alarmout")
#! Record("$(user):powerDownCalc",1880,2768,0,0,"$(user):powerDownCalc")
#! Field("$(user):powerDownCalc.INPA",16777215,1,"$(user):powerDownCalc.INPA")
#! Link("$(user):powerDownCalc.INPA","$(user):tempIn.STAT")
#! Field("$(user):powerDownCalc.FLNK",16777215,1,"$(user):powerDownCalc.FLNK")
#! Link("$(user):powerDownCalc.FLNK","$(user):powerDown")
#! Field("$(user):powerDownCalc.VAL",16777215,1,"$(user):powerDownCalc.VAL")
